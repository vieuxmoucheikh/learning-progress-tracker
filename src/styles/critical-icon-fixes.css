/**
 * CORRECTIFS CRITIQUES POUR LES FONDS ET TEXTES EN MODE SOMBRE
 * Ce fichier contient des correctifs à très haute priorité pour résoudre 
 * les problèmes de fond blanc et de texte en mode sombre.
 */

/* CORRECTIFS POUR LES SECTIONS DE TEMPS TOTAL ET STATISTIQUES */
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-gray-50,
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-gray-100,
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-white,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-gray-50,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-gray-100,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-white,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-gray-50,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-gray-100,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-white,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-gray-50,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-gray-100,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-white,
html[data-theme="dark"] body div[class*="total-time"],
html[data-theme="dark"] body div[class*="total-minutes"],
html[data-theme="dark"] body div[class*="bg-white"],
html[data-theme="dark"] body div[class*="bg-gray-50"],
html[data-theme="dark"] body div[class*="bg-gray-100"] {
  background-color: #0f172a !important;
  background: #0f172a !important;
  color: #f8fafc !important;
  border-color: #334155 !important;
  border-radius: 0.5rem !important;
}

/* TEXTES À L'INTÉRIEUR DES SECTIONS DE TEMPS */
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-gray-50 *,
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-gray-100 *,
html[data-theme="dark"] body .learning-item-card .mb-4.p-4.bg-white *,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-gray-50 *,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-gray-100 *,
html[data-theme="dark"] body .learning-item-card div.p-4.bg-white *,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-gray-50 *,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-gray-100 *,
html[data-theme="dark"] body .item-wrapper .mb-4.p-4.bg-white *,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-gray-50 *,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-gray-100 *,
html[data-theme="dark"] body .item-wrapper div.p-4.bg-white *,
html[data-theme="dark"] body div[class*="total-time"] *,
html[data-theme="dark"] body div[class*="total-minutes"] *,
html[data-theme="dark"] body .time-display *,
html[data-theme="dark"] body .stats-display * {
  color: #f1f5f9 !important;
}

/* ARRIÈRE-PLANS BLANCS DANS LES CARTES */
html[data-theme="dark"] body .learning-item-card .bg-white,
html[data-theme="dark"] body .learning-item-card div.bg-white,
html[data-theme="dark"] body .learning-item-card [class*="bg-white"],
html[data-theme="dark"] body .item-wrapper .bg-white,
html[data-theme="dark"] body .item-wrapper div.bg-white,
html[data-theme="dark"] body .item-wrapper [class*="bg-white"],
html[data-theme="dark"] body .card .bg-white,
html[data-theme="dark"] body .card div.bg-white,
html[data-theme="dark"] body .card [class*="bg-white"] {
  background-color: #1e293b !important;
  background: #1e293b !important;
  color: #f8fafc !important;
}

/* CONTRASTE AMÉLIORÉ POUR LE TEXTE EN MODE SOMBRE */
html[data-theme="dark"] body .text-gray-500,
html[data-theme="dark"] body .text-gray-600,
html[data-theme="dark"] body .text-gray-700,
html[data-theme="dark"] body .text-gray-800,
html[data-theme="dark"] body .text-gray-900 {
  color: #f1f5f9 !important;
}

/* ÉLÉMENTS DE FORMULAIRE DANS LES SECTIONS DE TEMPS */
html[data-theme="dark"] body input[type="number"],
html[data-theme="dark"] body input[type="text"],
html[data-theme="dark"] body input[type="time"],
html[data-theme="dark"] body .time-input,
html[data-theme="dark"] body [class*="input"] {
  background-color: #334155 !important;
  color: #f8fafc !important;
  border-color: #475569 !important;
}

/* SÉLECTEURS POUR DES COMPOSANTS SPÉCIFIQUES */
html[data-theme="dark"] body .total-time-display,
html[data-theme="dark"] body .total-minutes-display,
html[data-theme="dark"] body .time-counter,
html[data-theme="dark"] body .time-tracker,
html[data-theme="dark"] body .time-display,
html[data-theme="dark"] body .stats-display,
html[data-theme="dark"] body .time-section,
html[data-theme="dark"] body .timer-section,
html[data-theme="dark"] body [class*="timer-"],
html[data-theme="dark"] body [class*="time-"],
html[data-theme="dark"] body [class*="counter-"] {
  background-color: #1e293b !important;
  color: #f8fafc !important;
  border-color: #334155 !important;
}

/* CORRECTIF INLINE POUR LES AFFICHAGES AVEC STYLE INLINE */
html[data-theme="dark"] body [style*="background-color: white"],
html[data-theme="dark"] body [style*="background-color: #fff"],
html[data-theme="dark"] body [style*="background-color: #ffffff"],
html[data-theme="dark"] body [style*="background: white"],
html[data-theme="dark"] body [style*="background: #fff"],
html[data-theme="dark"] body [style*="background: #ffffff"] {
  background-color: #1e293b !important;
  background: #1e293b !important;
  color: #f8fafc !important;
}

/* CORRECTIF POUR LES CLASSES DYNAMIQUES / GÉNÉRÉES */
html[data-theme="dark"] body *[class^="bg-white"],
html[data-theme="dark"] body *[class*=" bg-white"],
html[data-theme="dark"] body *[class^="bg-gray-50"],
html[data-theme="dark"] body *[class*=" bg-gray-50"],
html[data-theme="dark"] body *[class^="bg-gray-100"],
html[data-theme="dark"] body *[class*=" bg-gray-100"] {
  background-color: #1e293b !important;
  background: #1e293b !important;
  color: #f8fafc !important;
}

/* CORRECTION DE CONTRASTE POUR TOUS LES TEXTES À L'INTÉRIEUR D'UN FOND BLANC/GRIS EN MODE SOMBRE */
html[data-theme="dark"] body .bg-white *,
html[data-theme="dark"] body .bg-gray-50 *,
html[data-theme="dark"] body .bg-gray-100 *,
html[data-theme="dark"] body [class*="bg-white"] *,
html[data-theme="dark"] body [class*="bg-gray-50"] *,
html[data-theme="dark"] body [class*="bg-gray-100"] * {
  color: #f8fafc !important;
}

/* CORRECTION SPÉCIFIQUE POUR LES SECTIONS DE STATISTIQUES AVEC DES BORDS ARRONDIS */
html[data-theme="dark"] body .rounded-lg.p-4.bg-white,
html[data-theme="dark"] body .rounded-lg.p-4.bg-gray-50,
html[data-theme="dark"] body .rounded-lg.p-4.bg-gray-100,
html[data-theme="dark"] body .rounded-xl.p-4.bg-white,
html[data-theme="dark"] body .rounded-xl.p-4.bg-gray-50,
html[data-theme="dark"] body .rounded-xl.p-4.bg-gray-100 {
  background-color: #0f172a !important;
  background: #0f172a !important;
  border: 1px solid #334155 !important;
}

/* CORRECTIFS SPÉCIFIQUES POUR LES ICÔNES EN MODE SOMBRE */
/* Ces règles ont une priorité très élevée pour surcharger tous les autres styles */
html[data-theme="dark"] svg,
.dark svg,
html[data-theme="dark"] [class*="lucide-"],
.dark [class*="lucide-"] {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  vector-effect: non-scaling-stroke !important;
}

/* CIBLAGE INDIVIDUEL DES ICÔNES LUCIDE LES PLUS COURANTES */
html[data-theme="dark"] .lucide-edit,
.dark .lucide-edit,
html[data-theme="dark"] .lucide-save,
.dark .lucide-save,
html[data-theme="dark"] .lucide-trash-2,
.dark .lucide-trash-2,
html[data-theme="dark"] .lucide-clock,
.dark .lucide-clock,
html[data-theme="dark"] .lucide-check,
.dark .lucide-check,
html[data-theme="dark"] .lucide-x,
.dark .lucide-x,
html[data-theme="dark"] .lucide-plus,
.dark .lucide-plus,
html[data-theme="dark"] .lucide-external-link,
.dark .lucide-external-link,
html[data-theme="dark"] .lucide-check-circle-2,
.dark .lucide-check-circle-2,
html[data-theme="dark"] .lucide-copy,
.dark .lucide-copy {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
}

/* CAS SPÉCIAL POUR LES ICÔNES DE LECTURE/PAUSE/ARRÊT */
html[data-theme="dark"] .lucide-play,
.dark .lucide-play {
  fill: currentColor !important;
  stroke: currentColor !important;
}

html[data-theme="dark"] .lucide-pause,
.dark .lucide-pause,
html[data-theme="dark"] .lucide-stop-circle,
.dark .lucide-stop-circle {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2.5px !important;
}

/* CORRECTION POUR LES ICÔNES DANS LES BADGES ET BOUTONS */
html[data-theme="dark"] button svg,
.dark button svg,
html[data-theme="dark"] .badge svg,
.dark .badge svg,
html[data-theme="dark"] [role="button"] svg,
.dark [role="button"] svg {
  fill: none !important;
  stroke: currentColor !important;
}

/* FORCAGE DES ATTRIBUTS SVG DIRECTEMENT */
html[data-theme="dark"] svg *,
.dark svg * {
  fill: inherit !important;
  stroke: inherit !important;
  stroke-width: inherit !important;
}

/* ADAPTATION POUR LE MODE MOBILE */
@media (max-width: 768px) {
  html[data-theme="dark"] svg,
  .dark svg,
  html[data-theme="dark"] [class*="lucide-"],
  .dark [class*="lucide-"] {
    stroke-width: 2.5px !important; /* Légèrement plus épais pour meilleure visibilité sur mobile */
  }
}

/* CORRECTION CRITIQUE POUR LES BOUTONS AVEC ICÔNES */
html[data-theme="dark"] button.text-red-600 svg, 
.dark button.text-red-600 svg,
html[data-theme="dark"] button.text-red-500 svg, 
.dark button.text-red-500 svg {
  stroke: #ef4444 !important;
  fill: none !important;
}

html[data-theme="dark"] button.text-green-600 svg, 
.dark button.text-green-600 svg,
html[data-theme="dark"] button.text-green-500 svg, 
.dark button.text-green-500 svg {
  stroke: #22c55e !important;
  fill: none !important;
}

html[data-theme="dark"] button.text-blue-600 svg, 
.dark button.text-blue-600 svg,
html[data-theme="dark"] button.text-blue-500 svg, 
.dark button.text-blue-500 svg {
  stroke: #3b82f6 !important;
  fill: none !important;
}

html[data-theme="dark"] button.text-yellow-600 svg, 
.dark button.text-yellow-600 svg,
html[data-theme="dark"] button.text-yellow-500 svg, 
.dark button.text-yellow-500 svg {
  stroke: #f59e0b !important;
  fill: none !important;
}

/* CORRECTIFS POUR LES SVG DANS LES LEARNING CARDS */
html[data-theme="dark"] .learning-item-card svg,
.dark .learning-item-card svg,
html[data-theme="dark"] [class*="learning-card"] svg,
.dark [class*="learning-card"] svg {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
}

/* CORRECTIFS SPÉCIFIQUES POUR LES BOUTONS DANS LES LEARNING CARDS */
html[data-theme="dark"] .learning-item-card button svg,
.dark .learning-item-card button svg,
html[data-theme="dark"] [class*="learning-card"] button svg,
.dark [class*="learning-card"] button svg {
  fill: none !important;
  stroke: currentColor !important;
}

/* CORRECTIFS SPÉCIFIQUES POUR LES CARTES DU DASHBOARD ET ALL ITEMS */
html[data-theme="dark"] body #dashboard .card,
html[data-theme="dark"] body .dashboard .card,
html[data-theme="dark"] body #items .card,
html[data-theme="dark"] body .items .card,
html[data-theme="dark"] body #dashboard .rounded-xl,
html[data-theme="dark"] body .dashboard .rounded-xl,
html[data-theme="dark"] body #items .rounded-xl,
html[data-theme="dark"] body .items .rounded-xl,
html[data-theme="dark"] body #dashboard [class*="learning-item-card"],
html[data-theme="dark"] body .dashboard [class*="learning-item-card"],
html[data-theme="dark"] body #items [class*="learning-item-card"],
html[data-theme="dark"] body .items [class*="learning-item-card"],
html[data-theme="dark"] body .dashboard-grid div.rounded-xl,
html[data-theme="dark"] body .dashboard-grid div.card,
html[data-theme="dark"] body .items-grid div.rounded-xl,
html[data-theme="dark"] body .items-grid div.card {
  background-color: #1e293b !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 0.75rem !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25) !important;
  overflow: hidden !important;
}

/* TITRES DANS LES CARTES DU DASHBOARD ET ALL ITEMS */
html[data-theme="dark"] body #dashboard .card h3,
html[data-theme="dark"] body .dashboard .card h3,
html[data-theme="dark"] body #items .card h3,
html[data-theme="dark"] body .items .card h3,
html[data-theme="dark"] body #dashboard .card [class*="title"],
html[data-theme="dark"] body .dashboard .card [class*="title"],
html[data-theme="dark"] body #items .card [class*="title"],
html[data-theme="dark"] body .items .card [class*="title"],
html[data-theme="dark"] body .dashboard-grid div.rounded-xl h3,
html[data-theme="dark"] body .dashboard-grid div.card h3,
html[data-theme="dark"] body .items-grid div.rounded-xl h3,
html[data-theme="dark"] body .items-grid div.card h3,
html[data-theme="dark"] body .dashboard-grid div.rounded-xl [class*="title"],
html[data-theme="dark"] body .dashboard-grid div.card [class*="title"],
html[data-theme="dark"] body .items-grid div.rounded-xl [class*="title"],
html[data-theme="dark"] body .items-grid div.card [class*="title"] {
  color: #ffffff !important;
  font-weight: 700 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* TEXTES DANS LES CARTES DU DASHBOARD ET ALL ITEMS */
html[data-theme="dark"] body #dashboard .card p,
html[data-theme="dark"] body .dashboard .card p,
html[data-theme="dark"] body #items .card p,
html[data-theme="dark"] body .items .card p,
html[data-theme="dark"] body #dashboard .card span:not([class*="icon"]),
html[data-theme="dark"] body .dashboard .card span:not([class*="icon"]),
html[data-theme="dark"] body #items .card span:not([class*="icon"]),
html[data-theme="dark"] body .items .card span:not([class*="icon"]),
html[data-theme="dark"] body .dashboard-grid div.rounded-xl p,
html[data-theme="dark"] body .dashboard-grid div.card p,
html[data-theme="dark"] body .items-grid div.rounded-xl p,
html[data-theme="dark"] body .items-grid div.card p,
html[data-theme="dark"] body .dashboard-grid div.rounded-xl span:not([class*="icon"]),
html[data-theme="dark"] body .dashboard-grid div.card span:not([class*="icon"]),
html[data-theme="dark"] body .items-grid div.rounded-xl span:not([class*="icon"]),
html[data-theme="dark"] body .items-grid div.card span:not([class*="icon"]) {
  color: #f1f5f9 !important;
}

/* AMÉLIORATION SPÉCIFIQUE POUR LES TEXTES "COMPLETED" ET LES CATÉGORIES DANS LES CARTES SUR DESKTOP */
html[data-theme="dark"] .learning-item-card .status-badge,
html[data-theme="dark"] .learning-item-card .status-not_started,
html[data-theme="dark"] .learning-item-card .status-in_progress,
html[data-theme="dark"] .learning-item-card .status-completed,
html[data-theme="dark"] .learning-item-card .status-on_hold,
html[data-theme="dark"] .learning-item-card .status-archived,
html[data-theme="dark"] .learning-item-card .status-struggling,
html[data-theme="dark"] .learning-item-card [class*="status-"] {
  background-color: rgba(51, 65, 85, 0.5) !important;
  color: #f8fafc !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
  padding: 0.25rem 0.75rem !important;
  border-radius: 9999px !important;
  letter-spacing: 0.025em !important;
}

html[data-theme="dark"] .learning-item-card .category-default,
html[data-theme="dark"] .learning-item-card .category-programming, 
html[data-theme="dark"] .learning-item-card .category-design,
html[data-theme="dark"] .learning-item-card .category-business,
html[data-theme="dark"] .learning-item-card .category-marketing,
html[data-theme="dark"] .learning-item-card .category-languages,
html[data-theme="dark"] .learning-item-card [class*="category-"] {
  background-color: rgba(51, 65, 85, 0.5) !important;
  color: #f8fafc !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
  padding: 0.25rem 0.75rem !important;
  border-radius: 9999px !important;
  letter-spacing: 0.025em !important;
}

/* STYLES SPÉCIFIQUES PAR STATUT POUR LES CARTES LEARNING ITEM */
html[data-theme="dark"] .learning-item-card .status-completed {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.5), rgba(5, 150, 105, 0.5)) !important;
  color: #6ee7b7 !important; /* emerald-300 */
  border: 1px solid rgba(16, 185, 129, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .status-in_progress {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(37, 99, 235, 0.5)) !important;
  color: #93c5fd !important; /* blue-300 */
  border: 1px solid rgba(59, 130, 246, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .status-not_started {
  background: linear-gradient(135deg, rgba(107, 114, 128, 0.5), rgba(75, 85, 99, 0.5)) !important;
  color: #e5e7eb !important; /* gray-200 */
  border: 1px solid rgba(107, 114, 128, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .status-on_hold {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.5), rgba(217, 119, 6, 0.5)) !important;
  color: #fcd34d !important; /* amber-300 */
  border: 1px solid rgba(245, 158, 11, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .status-archived {
  background: linear-gradient(135deg, rgba(107, 114, 128, 0.4), rgba(75, 85, 99, 0.4)) !important;
  color: #d1d5db !important; /* gray-300 */
  border: 1px solid rgba(107, 114, 128, 0.3) !important;
}

/* STYLES SPÉCIFIQUES PAR CATÉGORIE POUR LES CARTES LEARNING ITEM */
html[data-theme="dark"] .learning-item-card .category-programming {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(37, 99, 235, 0.5)) !important;
  color: #93c5fd !important; /* blue-300 */
  border: 1px solid rgba(59, 130, 246, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .category-design {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.5), rgba(220, 38, 38, 0.5)) !important;
  color: #fca5a5 !important; /* red-300 */
  border: 1px solid rgba(239, 68, 68, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .category-business {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.5), rgba(5, 150, 105, 0.5)) !important;
  color: #6ee7b7 !important; /* emerald-300 */
  border: 1px solid rgba(16, 185, 129, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .category-marketing {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.5), rgba(217, 119, 6, 0.5)) !important;
  color: #fcd34d !important; /* amber-300 */
  border: 1px solid rgba(245, 158, 11, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .category-languages {
  background: linear-gradient(135deg, rgba(168, 85, 247, 0.5), rgba(147, 51, 234, 0.5)) !important;
  color: #c4b5fd !important; /* purple-300 */
  border: 1px solid rgba(168, 85, 247, 0.4) !important;
}

html[data-theme="dark"] .learning-item-card .category-default {
  background: linear-gradient(135deg, rgba(71, 85, 105, 0.5), rgba(51, 65, 85, 0.5)) !important;
  color: #e2e8f0 !important; /* slate-200 */
  border: 1px solid rgba(71, 85, 105, 0.4) !important;
}

/* Empêche d'autres règles de remplacer ces styles critiques */
html[data-theme="dark"] .learning-item-card [class*="status-"] *,
html[data-theme="dark"] .learning-item-card [class*="category-"] * {
  color: inherit !important;
  font-weight: inherit !important;
  text-shadow: inherit !important;
}

/* MODE MOBILE - CORRECTIFS ULTRA-SPÉCIFIQUES */
@media (max-width: 768px) {
  /* Cartes du Dashboard et All Items sur mobile */
  html[data-theme="dark"] body #dashboard .card,
  html[data-theme="dark"] body .dashboard .card,
  html[data-theme="dark"] body #items .card,
  html[data-theme="dark"] body .items .card,
  html[data-theme="dark"] body #dashboard .rounded-xl,
  html[data-theme="dark"] body .dashboard .rounded-xl,
  html[data-theme="dark"] body #items .rounded-xl,
  html[data-theme="dark"] body .items .rounded-xl,
  html[data-theme="dark"] body #dashboard [class*="learning-item-card"],
  html[data-theme="dark"] body .dashboard [class*="learning-item-card"],
  html[data-theme="dark"] body #items [class*="learning-item-card"],
  html[data-theme="dark"] body .items [class*="learning-item-card"],
  html[data-theme="dark"] body .dashboard-grid div.rounded-xl,
  html[data-theme="dark"] body .dashboard-grid div.card,
  html[data-theme="dark"] body .items-grid div.rounded-xl,
  html[data-theme="dark"] body .items-grid div.card,
  html[data-theme="dark"] body div[class*="dashboard-"] div.rounded-xl,
  html[data-theme="dark"] body div[class*="dashboard-"] div.card,
  html[data-theme="dark"] body div[class*="items-"] div.rounded-xl,
  html[data-theme="dark"] body div[class*="items-"] div.card {
    background-color: #1e293b !important;
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    border-radius: 0.75rem !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3) !important;
  }
  
  /* Titres sur mobile - Plus grands et plus visibles */
  html[data-theme="dark"] body #dashboard .card h3,
  html[data-theme="dark"] body .dashboard .card h3,
  html[data-theme="dark"] body #items .card h3,
  html[data-theme="dark"] body .items .card h3,
  html[data-theme="dark"] body #dashboard .card [class*="title"],
  html[data-theme="dark"] body .dashboard .card [class*="title"],
  html[data-theme="dark"] body #items .card [class*="title"],
  html[data-theme="dark"] body .items .card [class*="title"],
  html[data-theme="dark"] body .dashboard-grid div.rounded-xl h3,
  html[data-theme="dark"] body .dashboard-grid div.card h3,
  html[data-theme="dark"] body .items-grid div.rounded-xl h3,
  html[data-theme="dark"] body .items-grid div.card h3,
  html[data-theme="dark"] body .dashboard-grid div.rounded-xl [class*="title"],
  html[data-theme="dark"] body .dashboard-grid div.card [class*="title"],
  html[data-theme="dark"] body .items-grid div.rounded-xl [class*="title"],
  html[data-theme="dark"] body .items-grid div.card [class*="title"] {
    color: #ffffff !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
  }
  
  /* CORRECTIFS POUR LES ICÔNES DU DASHBOARD ET ALL ITEMS SUR MOBILE */
  html[data-theme="dark"] body #dashboard svg,
  html[data-theme="dark"] body .dashboard svg,
  html[data-theme="dark"] body #items svg,
  html[data-theme="dark"] body .items svg,
  html[data-theme="dark"] body #dashboard [class*="lucide-"],
  html[data-theme="dark"] body .dashboard [class*="lucide-"],
  html[data-theme="dark"] body #items [class*="lucide-"],
  html[data-theme="dark"] body .items [class*="lucide-"] {
    fill: none !important;
    stroke: currentColor !important;
    stroke-width: 2.5px !important;
    stroke-linecap: round !important;
    stroke-linejoin: round !important;
    vector-effect: non-scaling-stroke !important;
  }
  
  /* EXCEPTION POUR L'ICÔNE PLAY */
  html[data-theme="dark"] body .lucide-play,
  html[data-theme="dark"] body .lucide-play polygon {
    fill: currentColor !important;
    stroke: currentColor !important;
  }
  
  /* RESET COMPLET DES ATTRIBUTS SVG PROBLÉMATIQUES */
  html[data-theme="dark"] body svg *[fill]:not([fill="none"]),
  html[data-theme="dark"] body [class*="lucide-"] *[fill]:not([fill="none"]) {
    fill: currentColor !important;
  }
  
  html[data-theme="dark"] body svg *[stroke],
  html[data-theme="dark"] body [class*="lucide-"] *[stroke] {
    stroke: currentColor !important;
  }

  /* Timer actif en mode sombre */
  html[data-theme="dark"] body .time-tracker,
  html[data-theme="dark"] body .time-counter,
  html[data-theme="dark"] body [class*="session-timer"],
  html[data-theme="dark"] body [class*="active-timer"],
  html[data-theme="dark"] body .timer-active,
  html[data-theme="dark"] body [class*="session-active"] {
    background-color: #0f172a !important;
    border: 2px solid #3b82f6 !important;
    border-radius: 12px !important;
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.4) !important;
    padding: 12px !important;
    margin: 10px 0 !important;
    animation: pulse-dark 2s infinite !important;
  }

  /* Timer en pause en mode sombre */
  html[data-theme="dark"] body .timer-paused,
  html[data-theme="dark"] body [class*="session-paused"] {
    background-color: #0f172a !important;
    border: 2px solid #f59e0b !important;
    border-radius: 12px !important;
    box-shadow: 0 0 15px rgba(245, 158, 11, 0.4) !important;
    padding: 12px !important;
    margin: 10px 0 !important;
  }

  /* Texte du timer en mode sombre */
  html[data-theme="dark"] body .time-tracker span,
  html[data-theme="dark"] body .time-counter span,
  html[data-theme="dark"] body [class*="session-timer"] span,
  html[data-theme="dark"] body .timer-active span,
  html[data-theme="dark"] body [class*="session-active"] span {
    color: #ffffff !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  }

  /* Texte de session en pause en mode sombre */
  html[data-theme="dark"] body .timer-paused span,
  html[data-theme="dark"] body [class*="session-paused"] span {
    color: #fdba74 !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  }

  /* Animation de pulsation pour le timer actif en mode sombre */
  @keyframes pulse-dark {
    0% { box-shadow: 0 0 10px rgba(59, 130, 246, 0.4); }
    50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.7); }
    100% { box-shadow: 0 0 10px rgba(59, 130, 246, 0.4); }
  }

  /* Timer actif en mode clair */
  html[data-theme="light"] body .time-tracker,
  html[data-theme="light"] body .time-counter,
  html[data-theme="light"] body [class*="session-timer"],
  html[data-theme="light"] body .timer-active,
  html[data-theme="light"] body [class*="session-active"] {
    background: linear-gradient(135deg, #dbeafe, #eff6ff) !important;
    border: 2px solid #3b82f6 !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
    padding: 12px !important;
    margin: 10px 0 !important;
    animation: pulse-light 2s infinite !important;
  }

  /* Timer en pause en mode clair */
  html[data-theme="light"] body .timer-paused,
  html[data-theme="light"] body [class*="session-paused"] {
    background: linear-gradient(135deg, #fff7ed, #ffedd5) !important;
    border: 2px solid #f59e0b !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3) !important;
    padding: 12px !important;
    margin: 10px 0 !important;
  }

  /* Texte du timer en mode clair */
  html[data-theme="light"] body .time-tracker span,
  html[data-theme="light"] body .time-counter span,
  html[data-theme="light"] body [class*="session-timer"] span,
  html[data-theme="light"] body .timer-active span,
  html[data-theme="light"] body [class*="session-active"] span {
    color: #1e40af !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8) !important;
  }

  /* Texte de session en pause en mode clair */
  html[data-theme="light"] body .timer-paused span,
  html[data-theme="light"] body [class*="session-paused"] span {
    color: #b45309 !important;
    font-weight: 700 !important;
    font-size: 1.25rem !important;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8) !important;
  }

  /* Animation de pulsation pour le timer actif en mode clair */
  @keyframes pulse-light {
    0% { box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2); }
    50% { box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4); }
    100% { box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2); }
  }

  /* Boutons du timer en mode sombre - Play, Pause, Stop */
  html[data-theme="dark"] body .time-tracker button,
  html[data-theme="dark"] body .time-counter button,
  html[data-theme="dark"] body [class*="session-timer"] button {
    background-color: #0f172a !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    margin: 0 5px !important;
    padding: 8px 16px !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
  }

  /* Boutons du timer en mode clair - Play, Pause, Stop */
  html[data-theme="light"] body .time-tracker button,
  html[data-theme="light"] body .time-counter button,
  html[data-theme="light"] body [class*="session-timer"] button {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    margin: 0 5px !important;
    padding: 8px 16px !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
  }

  /* Bouton Play spécifique en mode sombre */
  html[data-theme="dark"] body .time-tracker button:has(.lucide-play),
  html[data-theme="dark"] body .time-counter button:has(.lucide-play),
  html[data-theme="dark"] body [class*="session-timer"] button:has(.lucide-play) {
    background-color: #1e3a8a !important;
    border-color: #3b82f6 !important;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4) !important;
  }

  /* Bouton Pause spécifique en mode sombre */
  html[data-theme="dark"] body .time-tracker button:has(.lucide-pause),
  html[data-theme="dark"] body .time-counter button:has(.lucide-pause),
  html[data-theme="dark"] body [class*="session-timer"] button:has(.lucide-pause) {
    background-color: #854d0e !important;
    border-color: #f59e0b !important;
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4) !important;
  }

  /* Bouton Stop spécifique en mode sombre */
  html[data-theme="dark"] body .time-tracker button:has(.lucide-stop-circle),
  html[data-theme="dark"] body .time-counter button:has(.lucide-stop-circle),
  html[data-theme="dark"] body [class*="session-timer"] button:has(.lucide-stop-circle) {
    background-color: #7f1d1d !important;
    border-color: #ef4444 !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4) !important;
  }

  /* Bouton Play spécifique en mode clair */
  html[data-theme="light"] body .time-tracker button:has(.lucide-play),
  html[data-theme="light"] body .time-counter button:has(.lucide-play),
  html[data-theme="light"] body [class*="session-timer"] button:has(.lucide-play) {
    background: linear-gradient(135deg, #3b82f6, #1e40af) !important;
    border-color: #2563eb !important;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
  }

  /* Bouton Pause spécifique en mode clair */
  html[data-theme="light"] body .time-tracker button:has(.lucide-pause),
  html[data-theme="light"] body .time-counter button:has(.lucide-pause),
  html[data-theme="light"] body [class*="session-timer"] button:has(.lucide-pause) {
    background: linear-gradient(135deg, #f59e0b, #d97706) !important;
    border-color: #b45309 !important;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3) !important;
  }

  /* Bouton Stop spécifique en mode clair */
  html[data-theme="light"] body .time-tracker button:has(.lucide-stop-circle),
  html[data-theme="light"] body .time-counter button:has(.lucide-stop-circle),
  html[data-theme="light"] body [class*="session-timer"] button:has(.lucide-stop-circle) {
    background: linear-gradient(135deg, #ef4444, #dc2626) !important;
    border-color: #b91c1c !important;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3) !important;
  }

  /* Icônes dans les boutons du timer en mode sombre */
  html[data-theme="dark"] body .time-tracker button svg,
  html[data-theme="dark"] body .time-counter button svg,
  html[data-theme="dark"] body [class*="session-timer"] button svg {
    fill: currentColor !important;
    stroke: currentColor !important;
    color: #ffffff !important;
    stroke-width: 2px !important;
    height: 20px !important;
    width: 20px !important;
  }

  /* Icônes dans les boutons du timer en mode clair */
  html[data-theme="light"] body .time-tracker button svg,
  html[data-theme="light"] body .time-counter button svg,
  html[data-theme="light"] body [class*="session-timer"] button svg {
    fill: currentColor !important;
    stroke: currentColor !important;
    color: #ffffff !important;
    stroke-width: 2px !important;
    height: 20px !important;
    width: 20px !important;
  }

  /* Surbrillance pour les numéros dans le timer */
  html[data-theme="dark"] body .time-tracker [class*="time-value"],
  html[data-theme="dark"] body .time-counter [class*="time-value"],
  html[data-theme="dark"] body [class*="session-timer"] [class*="time-value"],
  html[data-theme="dark"] body .time-tracker [class*="time-display"],
  html[data-theme="dark"] body .time-counter [class*="time-display"],
  html[data-theme="dark"] body [class*="session-timer"] [class*="time-display"] {
    font-family: monospace, SFMono-Regular, Menlo !important;
    font-size: 1.4rem !important;
    font-weight: 700 !important;
    background-color: rgba(15, 23, 42, 0.8) !important;
    color: #60a5fa !important;
    padding: 4px 8px !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
    letter-spacing: 0.05em !important;
  }

  /* Surbrillance pour les numéros dans le timer en mode clair */
  html[data-theme="light"] body .time-tracker [class*="time-value"],
  html[data-theme="light"] body .time-counter [class*="time-value"],
  html[data-theme="light"] body [class*="session-timer"] [class*="time-value"],
  html[data-theme="light"] body .time-tracker [class*="time-display"],
  html[data-theme="light"] body .time-counter [class*="time-display"],
  html[data-theme="light"] body [class*="session-timer"] [class*="time-display"] {
    font-family: monospace, SFMono-Regular, Menlo !important;
    font-size: 1.4rem !important;
    font-weight: 700 !important;
    background-color: rgba(255, 255, 255, 0.9) !important;
    color: #1e40af !important;
    padding: 4px 8px !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    letter-spacing: 0.05em !important;
  }
}

/* STYLES SPÉCIFIQUES POUR LE TEXTE "ORGANIZE AND MANAGE" */
html[data-theme="dark"] body [class*="organize-text"],
html[data-theme="dark"] body [class*="manage-text"],
html[data-theme="dark"] body [class*="learning-description"],
html[data-theme="dark"] body [class*="description"] {
  color: #f1f5f9 !important;
  visibility: visible !important;
  opacity: 1 !important;
  font-weight: 500 !important;
}

/* CORRECTIFS SPÉCIFIQUES POUR LES ICÔNES DANS LES SECTIONS DU DASHBOARD */
html[data-theme="dark"] .p-2.bg-blue-50,
html[data-theme="dark"] .p-2.bg-blue-100,
html[data-theme="dark"] .p-1\.5.bg-blue-50,
html[data-theme="dark"] .p-2.bg-green-50,
html[data-theme="dark"] .p-2.bg-green-100,
html[data-theme="dark"] .p-1\.5.bg-green-50,
html[data-theme="dark"] .p-2.bg-purple-50,
html[data-theme="dark"] .p-2.bg-purple-100,
html[data-theme="dark"] .p-1\.5.bg-purple-50,
html[data-theme="dark"] .p-2.bg-amber-50,
html[data-theme="dark"] .p-2.bg-amber-100,
html[data-theme="dark"] .p-1\.5.bg-amber-50 {
  background-color: rgba(30, 58, 138, 0.3) !important; /* Fond bleu foncé semi-transparent */
}

/* Couleurs pour les icônes spécifiques dans les cartes du dashboard */
html[data-theme="dark"] .p-2.bg-blue-50 svg,
html[data-theme="dark"] .p-2.bg-blue-100 svg,
html[data-theme="dark"] .p-1_5.bg-blue-50 svg {
  color: #93c5fd !important; /* blue-300 */
  stroke: #93c5fd !important;
  fill: none !important;
}

html[data-theme="dark"] .p-2.bg-green-50 svg,
html[data-theme="dark"] .p-2.bg-green-100 svg,
html[data-theme="dark"] .p-1_5.bg-green-50 svg {
  color: #6ee7b7 !important; /* green-300 */
  stroke: #6ee7b7 !important;
  fill: none !important;
}

html[data-theme="dark"] .p-2.bg-purple-50 svg,
html[data-theme="dark"] .p-2.bg-purple-100 svg,
html[data-theme="dark"] .p-1_5.bg-purple-50 svg {
  color: #c4b5fd !important; /* purple-300 */
  stroke: #c4b5fd !important;
  fill: none !important;
}

html[data-theme="dark"] .p-2.bg-amber-50 svg,
html[data-theme="dark"] .p-2.bg-amber-100 svg,
html[data-theme="dark"] .p-1_5.bg-amber-50 svg {
  color: #fcd34d !important; /* amber-300 */
  stroke: #fcd34d !important;
  fill: none !important;
}

/* Amélioration de la visibilité des textes de catégorie et de "completed" dans les cartes */
html[data-theme="dark"] [class*="category-"],
html[data-theme="dark"] [class*="status-"] {
  color: #f1f5f9 !important; /* slate-100 */
  font-weight: 500 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* S'assurer que le texte dans les badges de statut est visible */
html[data-theme="dark"] .badge,
html[data-theme="dark"] [class*="badge"] {
  color: #f1f5f9 !important; /* slate-100 */
  background-color: rgba(51, 65, 85, 0.8) !important; /* slate-700 semi-transparent */
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* CORRECTIFS POUR LES TOOLTIPS DU CALENDRIER */
html[data-theme="dark"] [class*="calendar"] [class*="tooltip"],
html[data-theme="dark"] .calendar-tooltip,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 {
  background-color: #1e293b !important; /* slate-800 */
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: #f8fafc !important; /* slate-50 */
}

html[data-theme="dark"] [class*="calendar"] [class*="tooltip"] div,
html[data-theme="dark"] [class*="calendar"] [class*="tooltip"] span,
html[data-theme="dark"] .calendar-tooltip div,
html[data-theme="dark"] .calendar-tooltip span,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 div,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 span {
  color: #f1f5f9 !important; /* slate-100 */
}

html[data-theme="dark"] [class*="calendar"] [class*="tooltip"] .text-gray-600,
html[data-theme="dark"] [class*="calendar"] [class*="tooltip"] .text-gray-700,
html[data-theme="dark"] [class*="calendar"] [class*="tooltip"] .text-muted-foreground,
html[data-theme="dark"] .calendar-tooltip .text-gray-600,
html[data-theme="dark"] .calendar-tooltip .text-gray-700,
html[data-theme="dark"] .calendar-tooltip .text-muted-foreground,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 .text-gray-600,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 .text-gray-700,
html[data-theme="dark"] .fixed.z-50.bg-white.dark\:bg-gray-800 .text-muted-foreground {
  color: #cbd5e1 !important; /* slate-300 */
}