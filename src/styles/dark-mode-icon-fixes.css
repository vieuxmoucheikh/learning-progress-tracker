/**
 * Dark Mode Icon Background Fixes
 * This file fixes the background colors for icons and analytics page elements in dark mode
 */

/* Global SVG icon fixes for dark mode - adapted from mobile styles */
.dark svg, 
.dark svg path, 
.dark svg line, 
.dark svg polyline, 
.dark svg circle, 
.dark svg rect {
  stroke-width: inherit !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  fill: none !important; /* Prevent icon filling */
  shape-rendering: geometricPrecision !important;
}

/* Fix for the Learning Goals navigation icon in TabNavigation */
.dark .tab-navigation-item .nav-icon svg,
.dark .mobile-logo .logo-icon {
  color: white !important;
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
}

/* Fix for the Learning Goals icon in the green header */
.dark .tab-navigation-item:nth-child(3) .nav-icon svg,
.dark .tab-navigation-items button:nth-child(3) .nav-icon svg,
.dark .tab-navigation-items button[aria-label*="Analytics"] .nav-icon svg,
.dark .tab-navigation-items button[aria-label*="Stats"] .nav-icon svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
  background-color: transparent !important;
}

/* Fix for the green background in the Learning Goals header */
.dark [class*="bg-green-"],
.dark [style*="background-color: rgb(22, 163, 74)"],
.dark [style*="background: rgb(22, 163, 74)"],
.dark [style*="background-color:#16a34a"],
.dark [style*="background:#16a34a"] {
  background-color: #16a34a !important;
}

/* Fix specifically for the icon in the green header */
.dark [class*="bg-green-"] svg,
.dark [style*="background-color: rgb(22, 163, 74)"] svg,
.dark [style*="background: rgb(22, 163, 74)"] svg,
.dark [style*="background-color:#16a34a"] svg,
.dark [style*="background:#16a34a"] svg,
.dark h2.text-3xl.font-bold.tracking-tight + button svg,
.dark h2[class*="text-3xl"] + button svg,
.dark h2 + button.bg-green-500 svg,
.dark h2 + button.bg-green-600 svg,
.dark button.bg-green-500 svg,
.dark button.bg-green-600 svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

/* Fix for the active/completed states in learning goals */
.dark .px-3.py-1.rounded-full.text-xs.font-semibold.shadow-sm {
  background-color: rgba(30, 41, 59, 0.8) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: white !important;
}

/* Specific status colors */
.dark .bg-green-100.text-green-800 {
  background-color: rgba(16, 185, 129, 0.2) !important;
  color: #4ade80 !important;
}

.dark .bg-blue-100.text-blue-800 {
  background-color: rgba(59, 130, 246, 0.2) !important;
  color: #60a5fa !important;
}

.dark .bg-red-100.text-red-800 {
  background-color: rgba(239, 68, 68, 0.2) !important;
  color: #f87171 !important;
}

/* Fix for the stats grid in learning goals cards */
.dark .bg-muted\/30,
.dark [class*="bg-muted"] {
  background-color: #1e293b !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Fix hover state for the stats grid items */
.dark .bg-muted\/30:hover,
.dark [class*="bg-muted"]:hover {
  background-color: #334155 !important;
}

/* Fix for the progress bar background */
.dark .h-2\.5.w-full.bg-muted\/60 {
  background-color: #1e293b !important;
}

/* Fix for progress bar fill colors */
.dark .bg-gradient-to-r.from-blue-400.to-blue-600 {
  background: linear-gradient(to right, #3b82f6, #2563eb) !important;
}

.dark .bg-gradient-to-r.from-green-400.to-green-600 {
  background: linear-gradient(to right, #10b981, #059669) !important;
}

.dark .bg-gradient-to-r.from-red-400.to-red-600 {
  background: linear-gradient(to right, #f87171, #dc2626) !important;
}

/* Fix for the card background */
.dark .card {
  background-color: #0f172a !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}

/* Fix for the category indicator */
.dark .inline-block.w-2\.5.h-2\.5.rounded-full.bg-primary\/70 {
  background-color: #3b82f6 !important;
}

/* Direct fix for the category labels in the image */
.dark .wbdbdb {
  background-color: #1e40af !important;
  color: white !important;
}

.dark .ml {
  background-color: #047857 !important;
  color: white !important;
}

.dark .oll {
  background-color: #7e22ce !important;
  color: white !important;
}

/* Fix for the grid boxes in the learning goals */
.dark .grid.grid-cols-2.gap-4 > div {
  background-color: #1e293b !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.dark .grid.grid-cols-2.gap-4 > div:hover {
  background-color: #334155 !important;
}

/* Fix for the icon backgrounds */
.dark .flex.items-center.gap-2.mb-1\.5 svg {
  color: white !important;
}

/* Target specific icon background colors */
.dark .flex.items-center.gap-2.mb-1\.5 .text-blue-500,
.dark .flex.items-center.gap-2.mb-1\.5 .text-blue-600 {
  background-color: #3b82f6 !important;
  padding: 4px !important;
  border-radius: 50% !important;
  color: white !important;
}

.dark .flex.items-center.gap-2.mb-1\.5 .text-green-500,
.dark .flex.items-center.gap-2.mb-1\.5 .text-green-600 {
  background-color: #10b981 !important;
  padding: 4px !important;
  border-radius: 50% !important;
  color: white !important;
}

.dark .flex.items-center.gap-2.mb-1\.5 .text-yellow-500,
.dark .flex.items-center.gap-2.mb-1\.5 .text-yellow-600,
.dark .flex.items-center.gap-2.mb-1\.5 .text-amber-500,
.dark .flex.items-center.gap-2.mb-1\.5 .text-amber-600 {
  background-color: #f59e0b !important;
  padding: 4px !important;
  border-radius: 50% !important;
  color: white !important;
}

.dark .flex.items-center.gap-2.mb-1\.5 .text-red-500,
.dark .flex.items-center.gap-2.mb-1\.5 .text-red-600 {
  background-color: #ef4444 !important;
  padding: 4px !important;
  border-radius: 50% !important;
  color: white !important;
}

.dark .flex.items-center.gap-2.mb-1\.5 .text-muted-foreground {
  background-color: #475569 !important;
  padding: 4px !important;
  border-radius: 50% !important;
  color: white !important;
}

/* Fix for the mobile logo background */
.dark .mobile-logo {
  background-color: rgba(30, 41, 59, 0.8) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

/* Fix for the navigation tab icons */
.dark .tab-navigation-item {
  background-color: rgba(30, 41, 59, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.dark .tab-navigation-item.active {
  background-color: rgba(59, 130, 246, 0.2) !important;
  border: 1px solid rgba(59, 130, 246, 0.3) !important;
}

/* Fix for the Learning Goals tab specifically */
.dark .tab-navigation-item:nth-child(3) {
  background-color: rgba(30, 41, 59, 0.8) !important;
}

.dark .tab-navigation-item:nth-child(3).active {
  background-color: rgba(59, 130, 246, 0.3) !important;
}

/* Specific fixes for buttons with icons in card headers and flex containers */
.dark .card-header button svg,
.dark [class*="card-header"] button svg,
.dark .flex.items-center.justify-between button svg,
.dark h2 + div button svg,
.dark h2 + button svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

/* Fix specifically for the icon in the green header */
.dark [class*="bg-green-"] svg,
.dark [style*="background-color: rgb(22, 163, 74)"] svg,
.dark [style*="background: rgb(22, 163, 74)"] svg,
.dark [style*="background-color:#16a34a"] svg,
.dark [style*="background:#16a34a"] svg,
.dark h2.text-3xl.font-bold.tracking-tight + button svg,
.dark h2[class*="text-3xl"] + button svg,
.dark h2 + button.bg-green-500 svg,
.dark h2 + button.bg-green-600 svg,
.dark button.bg-green-500 svg,
.dark button.bg-green-600 svg,
/* Universal fix for all green buttons with icons */
.dark button.bg-green-500 svg,
.dark button.bg-green-600 svg,
.dark [class*="bg-green"] svg,
.dark [style*="background-color: #16a34a"] svg,
.dark [style*="background:#16a34a"] svg,
.dark [style*="background: #16a34a"] svg,
.dark [style*="background-color:rgb(22, 163, 74)"] svg,
.dark [style*="background:rgb(22, 163, 74)"] svg,
.dark [style*="background: rgb(22, 163, 74)"] svg,
/* Specific fix for buttons in card headers */
.dark .card-header button svg,
.dark [class*="card-header"] button svg,
.dark .flex.items-center.justify-between button svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

/* Fix for the Learning Goals icon in the header */
.dark h2.text-3xl.font-bold.tracking-tight + button.bg-blue-500 {
  background-color: #3b82f6 !important;
  border: none !important;
  color: white !important;
}

/* Fix for the status badges in the learning goals */
.dark [class*="getStatusColor"] {
  background-color: rgba(30, 41, 59, 0.8) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: white !important;
}

/* Direct fix for Learning Focus and Learning Goals icons */
.dark .flex.items-center.justify-between button.bg-green-500 svg,
.dark .flex.items-center.justify-between button.bg-green-600 svg,
.dark h2 + div button.bg-green-500 svg,
.dark h2 + div button.bg-green-600 svg,
.dark [class*="card-header"] button.bg-green-500 svg,
.dark [class*="card-header"] button.bg-green-600 svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
}

/* Extra specific fix for Learning Focus icon */
.dark h2:has(span:contains("Learning Focus")) ~ div button svg,
.dark h2:has(span:contains("Learning Goals")) ~ div button svg,
.dark h2[class*="text-3xl"] ~ div button svg {
  color: white !important;
  fill: none !important;
  stroke: white !important;
  stroke-width: 2.5px !important;
  filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5)) !important;
}
