/* Dark Mode Background Fixes - Ensuring proper background colors in dark mode */

/* Fix for card backgrounds in dark mode */
html[data-theme="dark"] .card,
.dark .card,
html[data-theme="dark"] [class*="card"],
.dark [class*="card"],
html[data-theme="dark"] [class*="Card"],
.dark [class*="Card"] {
  background-color: hsl(222.2, 84%, 4.9%) !important;
  border-color: hsl(217.2, 32.6%, 17.5%) !important;
}

/* Fix for blue stat boxes in dark mode */
html[data-theme="dark"] .bg-blue-50,
.dark .bg-blue-50,
html[data-theme="dark"] [class*="bg-blue-900"],
.dark [class*="bg-blue-900"],
html[data-theme="dark"] [class*="bg-blue-800"],
.dark [class*="bg-blue-800"] {
  background-color: hsl(221, 83%, 15%) !important;
  border-color: hsl(221, 83%, 25%) !important;
}

/* Fix for amber stat boxes in dark mode */
html[data-theme="dark"] .bg-amber-50,
.dark .bg-amber-50,
html[data-theme="dark"] [class*="bg-amber-900"],
.dark [class*="bg-amber-900"],
html[data-theme="dark"] [class*="bg-amber-800"],
.dark [class*="bg-amber-800"] {
  background-color: hsl(43, 83%, 15%) !important;
  border-color: hsl(43, 83%, 25%) !important;
}

/* Fix for green (mastered) stat boxes in dark mode */
html[data-theme="dark"] .bg-green-50,
.dark .bg-green-50,
html[data-theme="dark"] [class*="bg-green-900"],
.dark [class*="bg-green-900"] {
  background-color: hsl(142, 76%, 15%) !important;
  border-color: hsl(142, 76%, 25%) !important;
}

/* Fix for purple (non-mastered) stat boxes in dark mode */
html[data-theme="dark"] .bg-purple-50,
.dark .bg-purple-50,
html[data-theme="dark"] [class*="bg-purple-900"],
.dark [class*="bg-purple-900"] {
  background-color: hsl(270, 76%, 15%) !important;
  border-color: hsl(270, 76%, 25%) !important;
}

/* Fix for gray backgrounds in dark mode */
html[data-theme="dark"] .bg-gray-50,
.dark .bg-gray-50,
html[data-theme="dark"] [class*="bg-gray-800"],
.dark [class*="bg-gray-800"],
html[data-theme="dark"] [class*="bg-gray-900"],
.dark [class*="bg-gray-900"] {
  background-color: hsl(215, 28%, 17%) !important;
  border-color: hsl(215, 28%, 25%) !important;
}

/* Fix for text colors in dark mode */
html[data-theme="dark"] .text-blue-700,
.dark .text-blue-700,
html[data-theme="dark"] .text-blue-600,
.dark .text-blue-600,
html[data-theme="dark"] [class*="text-blue-"],
.dark [class*="text-blue-"] {
  color: hsl(213, 94%, 85%) !important;
}

html[data-theme="dark"] .text-amber-700,
.dark .text-amber-700,
html[data-theme="dark"] .text-amber-600,
.dark .text-amber-600,
html[data-theme="dark"] [class*="text-amber-"],
.dark [class*="text-amber-"] {
  color: hsl(43, 94%, 85%) !important;
}

html[data-theme="dark"] .text-gray-700,
.dark .text-gray-700,
html[data-theme="dark"] .text-gray-600,
.dark .text-gray-600,
html[data-theme="dark"] [class*="text-gray-"],
.dark [class*="text-gray-"] {
  color: hsl(215, 20%, 85%) !important;
}

/* Fix for green text in dark mode */
html[data-theme="dark"] .text-green-800,
.dark .text-green-800,
html[data-theme="dark"] .text-green-700,
.dark .text-green-700,
html[data-theme="dark"] .text-green-600,
.dark .text-green-600,
html[data-theme="dark"] [class*="text-green-"],
.dark [class*="text-green-"] {
  color: hsl(142, 94%, 85%) !important;
}

/* Fix for purple text in dark mode */
html[data-theme="dark"] .text-purple-800,
.dark .text-purple-800,
html[data-theme="dark"] .text-purple-700,
.dark .text-purple-700,
html[data-theme="dark"] .text-purple-600,
.dark .text-purple-600,
html[data-theme="dark"] .text-purple-500,
.dark .text-purple-500,
html[data-theme="dark"] [class*="text-purple-"],
.dark [class*="text-purple-"] {
  color: hsl(270, 94%, 85%) !important;
}

/* Text color fixes */
.dark .text-green-600 {
  color: #4ade80 !important;
}

.dark .text-purple-700 {
  color: #c084fc !important;
}

.dark .text-blue-600 {
  color: #60a5fa !important;
}

.dark .text-yellow-600 {
  color: #fcd34d !important;
}

.dark .text-red-600 {
  color: #f87171 !important;
}

/* Fix for icons in dark mode */
html[data-theme="dark"] svg,
.dark svg {
  color: inherit !important;
}

/* ReactQuill editor dark mode fixes */
.dark .ql-toolbar {
  background-color: #1e293b !important;
  border-color: #334155 !important;
}

.dark .ql-toolbar .ql-stroke {
  stroke: #94a3b8 !important;
}

.dark .ql-toolbar .ql-fill {
  fill: #94a3b8 !important;
}

.dark .ql-toolbar .ql-picker {
  color: #94a3b8 !important;
}

.dark .ql-toolbar .ql-picker-options {
  background-color: #1e293b !important;
  border-color: #334155 !important;
}

.dark .ql-container {
  background-color: #1e293b !important;
  border-color: #334155 !important;
}

.dark .ql-editor {
  color: #e2e8f0 !important;
  background-color: #1e293b !important;
}

.dark .ql-editor.ql-blank::before {
  color: #64748b !important;
}

/* Mobile specific fixes */
@media (max-width: 768px) {
  .dark .ql-toolbar {
    background-color: #1e293b !important;
    border-color: #334155 !important;
  }
  
  .dark .ql-container {
    background-color: #1e293b !important;
  }
}

/* Fix for progress bars in dark mode */
html[data-theme="dark"] .bg-gradient-to-r,
.dark .bg-gradient-to-r {
  background: linear-gradient(to right, hsl(160, 84%, 39%), hsl(142, 71%, 45%)) !important;
}

/* Fix for progress bar backgrounds in dark mode */
html[data-theme="dark"] .bg-gray-200,
.dark .bg-gray-200 {
  background-color: hsl(215, 28%, 25%) !important;
}

/* Fix for radar chart and learning focus in dark mode */
html[data-theme="dark"] .recharts-polar-grid-angle line,
.dark .recharts-polar-grid-angle line,
html[data-theme="dark"] .recharts-polar-grid-concentric path,
.dark .recharts-polar-grid-concentric path,
html[data-theme="dark"] .recharts-polar-angle-axis-tick-line line,
.dark .recharts-polar-angle-axis-tick-line line,
html[data-theme="dark"] .recharts-polar-radius-axis-tick-line line,
.dark .recharts-polar-radius-axis-tick-line line {
  stroke: rgba(255, 255, 255, 0.3) !important;
}

html[data-theme="dark"] .recharts-polar-angle-axis-tick text,
.dark .recharts-polar-angle-axis-tick text,
html[data-theme="dark"] .recharts-polar-radius-axis-tick text,
.dark .recharts-polar-radius-axis-tick text {
  fill: rgba(255, 255, 255, 0.8) !important;
}

/* Fix for learning goals icons and backgrounds in dark mode */
html[data-theme="dark"] .goal-card,
.dark .goal-card {
  background-color: hsl(222.2, 84%, 4.9%) !important;
  border-color: hsl(217.2, 32.6%, 17.5%) !important;
}

html[data-theme="dark"] .goal-card svg,
.dark .goal-card svg,
html[data-theme="dark"] [class*="Target"] svg,
.dark [class*="Target"] svg,
html[data-theme="dark"] [class*="Spent"] svg,
.dark [class*="Spent"] svg,
html[data-theme="dark"] [class*="Deadline"] svg,
.dark [class*="Deadline"] svg,
html[data-theme="dark"] [class*="Daily"] svg,
.dark [class*="Daily"] svg {
  background-color: hsl(215, 28%, 17%) !important;
  color: rgba(255, 255, 255, 0.9) !important;
}

html[data-theme="dark"] .goal-status-badge,
.dark .goal-status-badge {
  background-color: hsl(215, 28%, 17%) !important;
}

/* Fix for active and complete state backgrounds in dark mode */
html[data-theme="dark"] .active-state,
.dark .active-state,
html[data-theme="dark"] .complete-state,
.dark .complete-state {
  background-color: hsl(215, 28%, 17%) !important;
  color: rgba(255, 255, 255, 0.9) !important;
}
