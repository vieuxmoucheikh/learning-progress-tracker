/* Améliorations spécifiques pour l'affichage des graphiques sur mobile */

/* Container adaptatif pour l'onglet Analytics */
.analytics-tab-container {
  width: 100%;
}

/* Fixes pour les graphiques en mode sombre sur mobile et petits écrans */
@media (max-width: 768px) {
  /* Assurer que les graphiques s'adaptent bien à la taille de l'écran */
  .recharts-responsive-container {
    max-width: 100% !important;
    margin: 0 auto;
  }
  
  /* Rendre les labels et textes plus lisibles */
  .recharts-layer text, 
  .recharts-cartesian-axis-tick-value {
    font-size: 10px !important;
  }
  
  /* Améliorer la lisibilité en mode sombre */
  html[data-theme="dark"] .recharts-cartesian-grid line,
  .dark .recharts-cartesian-grid line {
    stroke: rgba(107, 114, 128, 0.3) !important; /* gray-500 avec transparence */
  }
  
  html[data-theme="dark"] .recharts-text,
  .dark .recharts-text {
    fill: #e5e7eb !important; /* gray-200 */
    font-weight: 500 !important;
  }

  /* Assurer que les couleurs des graphiques sont visibles en mode sombre */
  html[data-theme="dark"] .recharts-active-dot,
  .dark .recharts-active-dot {
    stroke: #1f2937 !important; /* gray-800 */
    stroke-width: 2px !important;
  }

  html[data-theme="dark"] .recharts-pie path,
  .dark .recharts-pie path {
    stroke: #374151 !important; /* gray-700 */
    stroke-width: 1px !important;
  }

  /* Rendre les cartes de statistiques plus compactes */
  .grid-cols-1.sm\:grid-cols-2.md\:grid-cols-4.gap-4 > div {
    padding: 0.75rem !important;
  }
  
  /* Améliorer la visibilité des segments de pie chart */
  html[data-theme="dark"] .recharts-pie-sector,
  .dark .recharts-pie-sector {
    filter: brightness(1.2) !important;
  }
  
  /* Augmenter la visibilité des icônes */
  html[data-theme="dark"] svg.lucide,
  .dark svg.lucide {
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.2));
  }
}

/* Pour très petits écrans */
@media (max-width: 480px) {
  /* Texte encore plus compact */
  .recharts-layer text, 
  .recharts-cartesian-axis-tick-value {
    font-size: 8px !important;
  }
  
  /* Réduire l'espacement entre les cartes */
  .space-y-8 > * + * {
    margin-top: 1.5rem !important;
  }
  
  /* Garder seulement les éléments importants de la légende */
  .recharts-legend-item {
    margin-right: 4px !important;
  }
  
  .recharts-legend-item-text {
    display: inline-block;
    max-width: 50px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

/* Ajustements spécifiques pour améliorer le radar chart */
.recharts-radar-polygon {
  stroke-width: 2px;
}

html[data-theme="dark"] .recharts-radar-polygon,
.dark .recharts-radar-polygon {
  stroke-width: 2.5px !important;
  fill-opacity: 0.7 !important;
}

html[data-theme="dark"] .recharts-polar-grid-concentric-circle,
.dark .recharts-polar-grid-concentric-circle {
  stroke: rgba(107, 114, 128, 0.4) !important;
}

/* Animation lors du changement de thème */
.theme-changed {
  animation: refresh-chart 0.3s ease-in-out;
}

@keyframes refresh-chart {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}
