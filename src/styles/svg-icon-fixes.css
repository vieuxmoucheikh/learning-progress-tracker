/**
 * CORRECTIFS ULTRA-SPÉCIFIQUES POUR LES ICÔNES SVG
 * Ce fichier applique des corrections pour garantir que les icônes SVG
 * s'affichent correctement en mode sombre avec des contours bien définis.
 */

/* Règles universelles pour toutes les icônes SVG */
svg,
[data-lucide],
.lucide,
[class*="lucide-"] {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  vector-effect: non-scaling-stroke !important;
}

/* Améliorations pour le mode sombre */
html[data-theme="dark"] svg,
html[data-theme="dark"] [data-lucide],
html[data-theme="dark"] .lucide,
html[data-theme="dark"] [class*="lucide-"] {
  filter: drop-shadow(0 0 1px rgba(255, 255, 255, 0.5)) !important;
  stroke-width: 2.5px !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ciblage spécifique des icônes courantes */
html[data-theme="dark"] svg[data-lucide="Edit"],
html[data-theme="dark"] svg[data-lucide="Save"],
html[data-theme="dark"] svg[data-lucide="Trash2"],
html[data-theme="dark"] svg[data-lucide="Clock"],
html[data-theme="dark"] svg[data-lucide="Check"],
html[data-theme="dark"] svg[data-lucide="X"],
html[data-theme="dark"] svg[data-lucide="Play"],
html[data-theme="dark"] svg[data-lucide="Pause"],
html[data-theme="dark"] svg[data-lucide="Plus"],
html[data-theme="dark"] svg[data-lucide="Download"],
html[data-theme="dark"] svg[data-lucide="Eye"],
html[data-theme="dark"] svg[data-lucide="EyeOff"],
html[data-theme="dark"] svg[data-lucide="Bookmark"],
html[data-theme="dark"] svg[data-lucide="BookmarkCheck"] {
  stroke-width: 2.5px !important;
}

/* Icônes avec des couleurs spécifiques */
html[data-theme="dark"] svg.text-blue-500,
html[data-theme="dark"] svg.text-blue-600,
html[data-theme="dark"] .text-blue-500 svg,
html[data-theme="dark"] .text-blue-600 svg,
html[data-theme="dark"] [class*="text-blue-"] svg {
  stroke: #60a5fa !important; /* blue-400 plus vif pour le mode sombre */
  fill: none !important;
}

html[data-theme="dark"] svg.text-green-500,
html[data-theme="dark"] svg.text-green-600,
html[data-theme="dark"] .text-green-500 svg,
html[data-theme="dark"] .text-green-600 svg,
html[data-theme="dark"] [class*="text-green-"] svg {
  stroke: #4ade80 !important; /* green-400 plus vif pour le mode sombre */
  fill: none !important;
}

html[data-theme="dark"] svg.text-red-500,
html[data-theme="dark"] svg.text-red-600,
html[data-theme="dark"] .text-red-500 svg,
html[data-theme="dark"] .text-red-600 svg,
html[data-theme="dark"] [class*="text-red-"] svg {
  stroke: #f87171 !important; /* red-400 plus vif pour le mode sombre */
  fill: none !important;
}

html[data-theme="dark"] svg.text-yellow-500,
html[data-theme="dark"] svg.text-yellow-600,
html[data-theme="dark"] .text-yellow-500 svg,
html[data-theme="dark"] .text-yellow-600 svg,
html[data-theme="dark"] [class*="text-yellow-"] svg {
  stroke: #fbbf24 !important; /* yellow-400 plus vif pour le mode sombre */
  fill: none !important;
}

/* Boutons avec des icônes */
html[data-theme="dark"] button svg {
  stroke-width: 2.5px !important;
}

/* Cas spécial pour l'icône Trophy */
html[data-theme="dark"] svg[data-lucide="Trophy"] {
  stroke: #fbbf24 !important; /* yellow-400 */
  stroke-width: 2.5px !important;
}

html[data-theme="dark"] svg[data-lucide="Trophy"] path[fill="currentColor"] {
  fill: #fbbf24 !important; /* yellow-400 */
}

/* Badges et états */
html[data-theme="dark"] .badge svg,
html[data-theme="dark"] .status-badge svg {
  stroke-width: 2.5px !important;
}

/* Améliorations mobiles */
@media (max-width: 768px) {
  html[data-theme="dark"] svg,
  html[data-theme="dark"] [data-lucide],
  html[data-theme="dark"] .lucide,
  html[data-theme="dark"] [class*="lucide-"] {
    stroke-width: 3px !important; /* Encore plus épais sur mobile */
    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.7)) !important;
  }
}

/* Icônes dans des éléments spécifiques */
html[data-theme="dark"] .learning-item-card svg,
html[data-theme="dark"] .item-wrapper svg {
  stroke-width: 2.5px !important;
  filter: drop-shadow(0 0 1px rgba(255, 255, 255, 0.7)) !important;
}

/* Corrections pour toutes les icônes Lucide en mode sombre */
html[data-theme="dark"] [data-lucide] path,
html[data-theme="dark"] [data-lucide] line,
html[data-theme="dark"] [data-lucide] circle,
html[data-theme="dark"] [data-lucide] rect,
html[data-theme="dark"] [data-lucide] polyline,
html[data-theme="dark"] [data-lucide] polygon {
  fill: none !important;
  stroke: inherit !important;
}

/* Animation subtile pour attirer l'attention sur les icônes interactives */
html[data-theme="dark"] button:hover svg,
html[data-theme="dark"] a:hover svg {
  filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.9)) !important;
  transform: scale(1.1) !important;
  transition: all 0.2s ease !important;
}
