/* Correctifs globaux pour les problèmes de visibilité en mode sombre */

/* Correctifs pour les catégories */
html[data-theme="dark"] .category-badge,
html[data-theme="dark"] span.badge[variant="secondary"],
html[data-theme="dark"] span.badge.py-1,
html[data-theme="dark"] span.badge.font-medium,
html[data-theme="dark"] span.badge.px-3 {
  background-color: rgba(37, 99, 235, 0.3) !important;
  color: #93c5fd !important;
  border: 1px solid #3b82f6 !important;
  padding: 0.25rem 0.75rem !important;
  font-weight: 600 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Correctifs pour le texte stylisé */
html[data-theme="dark"] [style*="color"] {
  color: inherit !important;
  filter: brightness(1.3) saturate(1.2) contrast(1.1) !important;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.5) !important;
}

html[data-theme="dark"] [style*="background-color"],
html[data-theme="dark"] mark {
  color: #f8fafc !important; /* Texte plus clair sur fond foncé */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Correctifs pour les guillemets et italique */
html[data-theme="dark"] q,
html[data-theme="dark"] blockquote,
html[data-theme="dark"] i,
html[data-theme="dark"] em,
html[data-theme="dark"] cite {
  color: #e2e8f0 !important;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/* Assurer une bonne lisibilité des éléments de l'éditeur */
html[data-theme="dark"] .ProseMirror p,
html[data-theme="dark"] .ProseMirror div,
html[data-theme="dark"] .ProseMirror span,
html[data-theme="dark"] .tiptap p,
html[data-theme="dark"] .tiptap div,
html[data-theme="dark"] .tiptap span {
  color: #f1f5f9 !important;
}

/* Améliorer le contraste des boutons et contrôles */
html[data-theme="dark"] button,
html[data-theme="dark"] [role="button"] {
  color: #e2e8f0 !important;
}

/* Styles pour desktop spécifiquement */
@media (min-width: 769px) {
  html[data-theme="dark"] .category-badge,
  html[data-theme="dark"] span.badge[variant="secondary"],
  html[data-theme="dark"] span.badge.py-1 {
    background-color: rgba(37, 99, 235, 0.3) !important;
    color: #93c5fd !important;
    font-size: 0.875rem !important;
    letter-spacing: 0.025em !important;
  }
  
  /* Assurer que les textes stylisés sont visibles sur desktop */
  html[data-theme="dark"] [style*="color"],
  html[data-theme="dark"] [style*="background-color"],
  html[data-theme="dark"] mark,
  html[data-theme="dark"] q,
  html[data-theme="dark"] i {
    opacity: 1 !important;
    visibility: visible !important;
  }
}

/* Assurez-vous que ces styles ont une priorité élevée */
html[data-theme="dark"] .font-medium.px-3.py-1.badge {
  background-color: rgba(37, 99, 235, 0.3) !important;
  color: #93c5fd !important;
  display: inline-flex !important;
}
