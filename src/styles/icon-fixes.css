/**
 * CORRECTIFS POUR LES ICÔNES EN MODE SOMBRE SUR MOBILE
 * Ce fichier corrige l'affichage des icônes dans les cartes d'apprentissage 
 * lorsqu'elles sont visualisées en mode sombre sur mobile.
 */

/* Styles globaux pour toutes les icônes SVG */
html[data-theme="dark"] svg, 
html[data-theme="dark"] svg path, 
html[data-theme="dark"] svg line, 
html[data-theme="dark"] svg polyline, 
html[data-theme="dark"] svg circle, 
html[data-theme="dark"] svg rect {
  stroke-width: inherit !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
  shape-rendering: geometricPrecision !important;
}

/* Force le style de ligne correct pour les icônes Lucide */
html[data-theme="dark"] [data-lucide],
html[data-theme="dark"] .lucide,
html[data-theme="dark"] [class*="lucide-"] {
  stroke-width: 2px !important;
  fill: none !important;
  stroke: currentColor !important;
}

/* Styles spécifiques pour les icônes dans les cartes d'apprentissage */
html[data-theme="dark"] .card svg,
html[data-theme="dark"] .learning-item-card svg,
html[data-theme="dark"] .item-wrapper svg {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
}

/* Ciblage spécifique des icônes courantes dans les cartes */
html[data-theme="dark"] svg[data-lucide="Edit"],
html[data-theme="dark"] svg[data-lucide="Save"],
html[data-theme="dark"] svg[data-lucide="Trash2"],
html[data-theme="dark"] svg[data-lucide="Clock"],
html[data-theme="dark"] svg[data-lucide="Check"],
html[data-theme="dark"] svg[data-lucide="X"],
html[data-theme="dark"] svg[data-lucide="Play"],
html[data-theme="dark"] svg[data-lucide="Pause"],
html[data-theme="dark"] svg[data-lucide="Plus"],
html[data-theme="dark"] svg[data-lucide="Link"],
html[data-theme="dark"] svg[data-lucide="ExternalLink"],
html[data-theme="dark"] svg[data-lucide="Download"],
html[data-theme="dark"] svg[data-lucide="Eye"],
html[data-theme="dark"] svg[data-lucide="EyeOff"],
html[data-theme="dark"] svg[data-lucide="Bookmark"],
html[data-theme="dark"] svg[data-lucide="BookmarkCheck"] {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
}

/* Correctifs spécifiques pour les boutons contenant des icônes */
html[data-theme="dark"] .card button svg,
html[data-theme="dark"] .learning-item-card button svg,
html[data-theme="dark"] .item-wrapper button svg {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
}

/* Correctifs pour les couleurs spécifiques */
html[data-theme="dark"] .card button.text-red-600 svg,
html[data-theme="dark"] .learning-item-card button.text-red-600 svg,
html[data-theme="dark"] svg.text-red-600,
html[data-theme="dark"] [class*="text-red-"] svg {
  stroke: #ef4444 !important;
  fill: none !important;
}

html[data-theme="dark"] .card button.text-green-600 svg,
html[data-theme="dark"] .learning-item-card button.text-green-600 svg,
html[data-theme="dark"] svg.text-green-600, 
html[data-theme="dark"] [class*="text-green-"] svg {
  stroke: #22c55e !important;
  fill: none !important;
}

html[data-theme="dark"] .card button.text-blue-600 svg,
html[data-theme="dark"] .learning-item-card button.text-blue-600 svg,
html[data-theme="dark"] svg.text-blue-600,
html[data-theme="dark"] [class*="text-blue-"] svg {
  stroke: #3b82f6 !important;
  fill: none !important;
}

html[data-theme="dark"] .card button.text-yellow-600 svg,
html[data-theme="dark"] .learning-item-card button.text-yellow-600 svg,
html[data-theme="dark"] svg.text-yellow-600,
html[data-theme="dark"] [class*="text-yellow-"] svg {
  stroke: #facc15 !important;
  fill: none !important;
}

/* Exception pour l'icône Trophy qui doit avoir un remplissage partiel */
html[data-theme="dark"] svg[data-lucide="Trophy"] {
  fill: none !important;
  stroke: #facc15 !important;
  stroke-width: 2px !important;
}

html[data-theme="dark"] svg[data-lucide="Trophy"] path[fill="currentColor"] {
  fill: #facc15 !important;
}

/* Correction pour les icônes en mode mobile */
@media (max-width: 768px) {
  html[data-theme="dark"] .card svg,
  html[data-theme="dark"] .learning-item-card svg,
  html[data-theme="dark"] .item-wrapper svg {
    stroke-width: 2.5px !important; /* Légèrement plus épais pour meilleure visibilité sur mobile */
  }
}

/* Règle universelle pour s'assurer que les icônes Lucide conservent leur apparence */
.lucide, 
[data-lucide], 
svg[class*="lucide-"] {
  fill: none !important;
  stroke: currentColor !important;
  stroke-width: 2px !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
}
