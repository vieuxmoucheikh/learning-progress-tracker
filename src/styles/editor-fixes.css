/* CORRECTIFS POUR L'ÉDITEUR DE TEXTE */

/* Styles pour améliorer la visibilité du texte en gras */
strong, 
b,
.font-bold,
.font-semibold,
.font-extrabold,
[style*="font-weight: bold"],
[style*="font-weight:bold"],
[style*="font-weight: 700"],
[style*="font-weight:700"],
[style*="font-weight: 900"],
[style*="font-weight:900"] {
  font-weight: 900 !important;
}

/* Styles spécifiques pour le mode clair (problème principal) */
@media (max-width: 768px) {
  html[data-theme="light"] strong,
  html[data-theme="light"] b,
  html[data-theme="light"] .font-bold,
  html[data-theme="light"] .font-semibold,
  html[data-theme="light"] .font-extrabold,
  html[data-theme="light"] [style*="font-weight: bold"],
  html[data-theme="light"] [style*="font-weight:bold"],
  html[data-theme="light"] [style*="font-weight: 700"],
  html[data-theme="light"] [style*="font-weight:700"],
  html[data-theme="light"] .ProseMirror strong,
  html[data-theme="light"] .ProseMirror b,
  html[data-theme="light"] [class*="ProseMirror"] strong,
  html[data-theme="light"] [class*="ProseMirror"] b,
  html[data-theme="light"] [contenteditable="true"] strong,
  html[data-theme="light"] [contenteditable="true"] b,
  html[data-theme="light"] .tiptap strong,
  html[data-theme="light"] .tiptap b {
    font-weight: 900 !important;
    color: #000000 !important;
    text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.3) !important;
    background-color: rgba(255, 255, 0, 0.15) !important;
    padding: 0 2px !important;
    border-radius: 2px !important;
  }

  /* Amélioration du bouton de gras pour le rendre plus visible lorsqu'il est actif */
  html[data-theme="light"] .mobile-bold-button.active,
  html[data-theme="light"] [class*="mobile-bold-button"].active {
    background-color: rgba(59, 130, 246, 0.3) !important;
    color: #1d4ed8 !important;
    font-weight: 700 !important;
    border-radius: 4px !important;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3) !important;
  }
}

/* CORRECTIFS SUPPLÉMENTAIRES POUR LES GUILLEMETS ET LES COULEURS DE TEXTE */
/* Ce code garantit l'affichage correct sur mobile en mode clair */

/* Style pour le picker de couleur et ses boutons */
.mobile-color-button {
  position: relative !important;
}

.mobile-color-button:active,
.mobile-color-button.active {
  background-color: rgba(59, 130, 246, 0.3) !important;
}

.mobile-color-option {
  position: relative !important;
  overflow: hidden !important;
  transition: transform 0.2s ease-in-out !important;
}

.mobile-color-option:active {
  transform: scale(1.2) !important;
}

/* Assurer la visibilité correcte du texte coloré */
@media (max-width: 768px) {
  html[data-theme="light"] [style*="color:"],
  html[data-theme="light"] [data-color] {
    text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.2) !important;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1) !important;
  }
  
  /* Traitement spécial pour les guillemets simples */
  html[data-theme="light"] .ProseMirror,
  html[data-theme="light"] .tiptap,
  html[data-theme="light"] [contenteditable="true"] {
    font-variant-ligatures: none !important; /* Désactiver les ligatures pour éviter des problèmes d'affichage */
    word-break: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Style spécial pour s'assurer que les codes avec guillemets sont visibles */
  html[data-theme="light"] .ProseMirror code,
  html[data-theme="light"] .tiptap code,
  html[data-theme="light"] [contenteditable="true"] code {
    background: rgba(0, 0, 0, 0.05) !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important; 
    color: #000000 !important;
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace !important;
    padding: 0.2em 0.4em !important;
    border-radius: 3px !important;
    font-size: 90% !important;
  }
  
  /* Assurer la visibilité des éléments qui contiennent souvent des guillemets simples */
  html[data-theme="light"] .ProseMirror *, 
  html[data-theme="light"] .tiptap *,
  html[data-theme="light"] [contenteditable="true"] * {
    color: #000000 !important;
  }
  
  /* Force la visibilité des textes colorés */
  html[data-theme="light"] .ProseMirror [style*="color:"] *,
  html[data-theme="light"] .tiptap [style*="color:"] *,
  html[data-theme="light"] [contenteditable="true"] [style*="color:"] * {
    color: inherit !important;
  }
}

/* Renforcement de la visibilité des guillemets simples */
@supports (-webkit-overflow-scrolling: touch) {
  /* Correctifs spécifiques pour iOS */
  .ProseMirror code,
  .tiptap code,
  [contenteditable="true"] code {
    font-family: "SFMono-Regular", Consolas, Menlo, monospace !important;
    -webkit-font-smoothing: antialiased !important;
  }
}
