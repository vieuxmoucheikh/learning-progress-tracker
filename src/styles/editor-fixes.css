/* Correctifs pour l'éditeur de texte riche en mode sombre */

/* Correction de la visibilité des textes colorés en mode sombre */
html[data-theme="dark"] [class*="editor"] [style*="color"],
html[data-theme="dark"] .ProseMirror [style*="color"],
html[data-theme="dark"] .tiptap [style*="color"] {
  filter: brightness(1.35) saturate(1.2) contrast(1.1) !important;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.5) !important;
  color: inherit !important; /* Assure que le texte utilise sa propre couleur */
}

/* Surlignages/highlights plus visibles en mode sombre */
html[data-theme="dark"] [class*="editor"] mark,
html[data-theme="dark"] [class*="editor"] [style*="background-color"],
html[data-theme="dark"] .ProseMirror mark,
html[data-theme="dark"] .ProseMirror [style*="background-color"],
html[data-theme="dark"] .tiptap mark,
html[data-theme="dark"] .tiptap [style*="background-color"] {
  color: #f3f4f6 !important;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.8) !important;
  filter: brightness(0.85) saturate(1.2) !important;
}

/* Amélioration des contrastes pour les badges et catégories en mode sombre */
html[data-theme="dark"] .badge,
html[data-theme="dark"] [class*="badge"],
html[data-theme="dark"] span.badge,
html[data-theme="dark"] div.badge {
  color: #f3f4f6 !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
  background-color: rgba(30, 41, 59, 0.95) !important;
  display: inline-flex !important;
  visibility: visible !important;
}

/* Correction spécifique pour les catégories sur desktop */
html[data-theme="dark"] [class*="category"],
html[data-theme="dark"] [class*="select-trigger"],
html[data-theme="dark"] span[class*="badge"],
html[data-theme="dark"] div[class*="badge"] {
  background-color: #1e293b !important;
  color: #f3f4f6 !important;
  border-color: #475569 !important;
  font-weight: 600 !important;
  display: inline-flex !important;
  visibility: visible !important;
}

/* Style spécifique pour les catégories (sélecteur très précis) */
html[data-theme="dark"] span.badge[variant="secondary"],
html[data-theme="dark"] span.badge.py-1,
html[data-theme="dark"] span.badge.font-medium,
html[data-theme="dark"] span.badge.px-3 {
  background-color: rgba(30, 64, 175, 0.3) !important;
  color: #93c5fd !important;
  border: 1px solid #1e40af !important;
  padding: 0.25rem 0.75rem !important;
  display: inline-flex !important;
  visibility: visible !important;
}

/* Style pour les popover et select */
html[data-theme="dark"] [class*="select-content"],
html[data-theme="dark"] [class*="popover-content"] {
  background-color: #1e293b !important;
  color: #f3f4f6 !important;
  border-color: #475569 !important;
}

/* Amélioration des contrastes pour le texte et les boutons dans l'éditeur */
html[data-theme="dark"] [class*="editor"] button,
html[data-theme="dark"] [class*="editor"] .button {
  color: #f3f4f6 !important;
}

html[data-theme="dark"] [class*="editor"] .ProseMirror,
html[data-theme="dark"] [class*="editor"] .tiptap {
  color: #f3f4f6 !important;
  background-color: #1e293b !important;
}

/* Correction pour les citations et textes entre guillemets */
html[data-theme="dark"] blockquote,
html[data-theme="dark"] [class*="editor"] blockquote,
html[data-theme="dark"] .ProseMirror blockquote,
html[data-theme="dark"] .tiptap blockquote,
html[data-theme="dark"] q,
html[data-theme="dark"] [class*="editor"] q,
html[data-theme="dark"] .ProseMirror q,
html[data-theme="dark"] .tiptap q {
  color: #e2e8f0 !important;
  background-color: rgba(59, 130, 246, 0.15) !important;
  border-left-color: #3b82f6 !important;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/* Correction pour le texte en italique qui contient des guillemets */
html[data-theme="dark"] i,
html[data-theme="dark"] em,
html[data-theme="dark"] [class*="editor"] i,
html[data-theme="dark"] [class*="editor"] em,
html[data-theme="dark"] .ProseMirror i,
html[data-theme="dark"] .ProseMirror em,
html[data-theme="dark"] .tiptap i,
html[data-theme="dark"] .tiptap em {
  color: #e2e8f0 !important;
}

/* Correction pour les textes avec arrière-plan coloré */
html[data-theme="dark"] [style*="background"],
html[data-theme="dark"] [class*="editor"] [style*="background"],
html[data-theme="dark"] .ProseMirror [style*="background"],
html[data-theme="dark"] .tiptap [style*="background"] {
  color: #f3f4f6 !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
  filter: brightness(1.2) contrast(1.2) !important;
}

/* Correction pour l'affichage sur mobile */
@media (max-width: 768px) {
  html[data-theme="dark"] [class*="editor"] [style*="color"],
  html[data-theme="dark"] .ProseMirror [style*="color"],
  html[data-theme="dark"] .tiptap [style*="color"] {
    color: #f3f4f6 !important;
    filter: brightness(1.5) saturate(1.3) !important;
  }

  html[data-theme="dark"] [class*="category"],
  html[data-theme="dark"] .badge,
  html[data-theme="dark"] [class*="badge"] {
    color: #f3f4f6 !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
    background-color: rgba(30, 41, 59, 0.8) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
  }
}

/* Force l'application des styles pour desktop */
@media (min-width: 769px) {
  html[data-theme="dark"] span.badge[variant="secondary"],
  html[data-theme="dark"] span.badge.py-1,
  html[data-theme="dark"] span.badge.font-medium,
  html[data-theme="dark"] span.badge.px-3 {
    background-color: rgba(30, 64, 175, 0.3) !important;
    color: #93c5fd !important;
    border: 1px solid #1e40af !important;
    padding: 0.25rem 0.75rem !important;
    visibility: visible !important;
    display: inline-flex !important;
  }

  /* Style pour les textes colorés/surlignés sur desktop */
  html[data-theme="dark"] [style*="color"],
  html[data-theme="dark"] [style*="background-color"] {
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.6) !important;
    filter: brightness(1.3) contrast(1.2) saturate(1.1) !important;
  }
}

/* CORRECTIFS ULTRA-SPÉCIFIQUES POUR LES CATÉGORIES */
/* Ces sélecteurs sont très spécifiques pour s'assurer qu'ils ont la priorité */
html[data-theme="dark"] span.badge.font-medium.px-3.py-1,
html[data-theme="dark"] div > .badge.py-1.border,
html[data-theme="dark"] .flex-col.sm\:flex-row .badge {
  background-color: rgba(30, 64, 175, 0.4) !important;
  color: #93c5fd !important;
  border: 1px solid #1e40af !important;
  font-weight: 600 !important;
  padding: 0.25rem 0.75rem !important;
  visibility: visible !important;
  display: inline-flex !important;
  opacity: 1 !important;
}

/* Correction pour les guillemets et l'italique */
html[data-theme="dark"] q,
html[data-theme="dark"] blockquote,
html[data-theme="dark"] cite,
html[data-theme="dark"] i,
html[data-theme="dark"] em {
  color: #e2e8f0 !important;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5) !important;
}

/* Correctifs pour l'éditeur de texte riche en mode sombre */

/* CORRECTIFS CRITIQUES ULTRA-SPÉCIFIQUES POUR LES CATÉGORIES NON VISIBLES SUR DESKTOP */
html[data-theme="dark"] span.badge[variant="secondary"],
html[data-theme="dark"] .badge[variant="secondary"],
html[data-theme="dark"] span.badge,
html[data-theme="dark"] div.badge,
html[data-theme="dark"] span.py-1,
html[data-theme="dark"] span.px-3,
html[data-theme="dark"] span.font-medium,
html[data-theme="dark"] [class*="px-3"][class*="py-1"],
html[data-theme="dark"] .flex-col .badge,
html[data-theme="dark"] .sm\:flex-row .badge,
.dark span.badge[variant="secondary"],
.dark .badge[variant="secondary"],
.dark span.badge,
.dark div.badge {
  /* Force l'affichage */
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  
  /* Couleurs très contrastées */
  background-color: rgba(29, 78, 216, 0.4) !important;
  color: white !important;
  border: 1px solid #3b82f6 !important;
  
  /* Style amélioré */
  font-weight: 600 !important;
  padding: 0.25rem 0.75rem !important;
  border-radius: 9999px !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
  position: relative !important;
  z-index: 50 !important;
  max-width: max-content !important;
}

/* CORRECTIFS POUR LES TEXTES AVEC COULEUR D'ARRIÈRE-PLAN */
html[data-theme="dark"] [style*="background"],
html[data-theme="dark"] [style*="background-color"],
html[data-theme="dark"] mark,
.dark [style*="background"],
.dark [style*="background-color"],
.dark mark {
  /* Base styles */
  color: white !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9) !important;
  
  /* Improve contrast */
  filter: brightness(1.25) contrast(1.4) !important;
  border-radius: 2px !important;
  padding: 0 2px !important;
  
  /* Force visibility */
  opacity: 1 !important;
  position: relative !important;
}

/* CORRECTIFS POUR LES TEXTES AVEC COULEUR SPÉCIFIQUE */
html[data-theme="dark"] [style*="color"],
.dark [style*="color"] {
  /* Force la couleur à être visible */
  opacity: 1 !important;
  color: inherit !important;
  filter: brightness(1.5) saturate(1.3) contrast(1.2) !important;
  text-shadow: 0 0 1px black !important;
}

/* --------- SÉLECTEURS ULTRA-CIBLÉS POUR CATEGORIES --------- */
/* Version desktop des badges de catégorie */
@media (min-width: 640px) {
  /* Target the category badge directly */
  html[data-theme="dark"] div:first-child > .badge,
  html[data-theme="dark"] .sm\:flex-row .badge,
  html[data-theme="dark"] .card-title + .badge,
  html[data-theme="dark"] h3 + .badge,
  .dark div:first-child > .badge,
  .dark .sm\:flex-row .badge,
  .dark .card-title + .badge,
  .dark h3 + .badge {
    background-color: rgba(37, 99, 235, 0.5) !important;
    color: white !important;
    border: 2px solid #60a5fa !important;
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    font-weight: 700 !important;
    font-size: 0.875rem !important;
    padding: 0.375rem 0.875rem !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
    z-index: 100 !important;
    position: relative !important;
  }
}

/* --- CORRECTIFS POUR LES GUILLEMETS SIMPLES --- */
html[data-theme="dark"] .tiptap q,
html[data-theme="dark"] .ProseMirror q,
html[data-theme="dark"] .tiptap blockquote,
html[data-theme="dark"] .ProseMirror blockquote,
html[data-theme="dark"] q,
html[data-theme="dark"] blockquote,
.dark .tiptap q,
.dark .ProseMirror q,
.dark .tiptap blockquote,
.dark .ProseMirror blockquote,
.dark q,
.dark blockquote {
  color: white !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
  background-color: rgba(59, 130, 246, 0.2) !important;
  border-left-color: #3b82f6 !important;
  border-left-width: 4px !important;
  padding: 0.5rem 1rem !important;
  margin: 1rem 0 !important;
  filter: brightness(1.1) !important;
  opacity: 1 !important;
  display: block !important;
  visibility: visible !important;
}

/* --- CORRECTIFS POUR L'ÉDITEUR ET SON CONTENU --- */
/* Force les textes à être visibles dans l'éditeur en mode sombre */
html[data-theme="dark"] .tiptap,
html[data-theme="dark"] .ProseMirror,
html[data-theme="dark"] [class*="editor"],
.dark .tiptap,
.dark .ProseMirror,
.dark [class*="editor"] {
  color: #f3f4f6 !important;
  background-color: #1e293b !important;
}

html[data-theme="dark"] .tiptap p,
html[data-theme="dark"] .ProseMirror p,
html[data-theme="dark"] [class*="editor"] p,
.dark .tiptap p,
.dark .ProseMirror p,
.dark [class*="editor"] p {
  color: #f3f4f6 !important;
}

/* --- SUPPORT DES DEUX SYNTAXES DE MODE SOMBRE --- */
/* Support pour l'autre syntaxe courante de mode sombre */
.dark .badge[variant="secondary"],
.dark span.badge.py-1,
.dark span.badge.font-medium,
.dark span.badge.px-3 {
  background-color: rgba(37, 99, 235, 0.5) !important;
  color: white !important;
  border: 1px solid #60a5fa !important;
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* --- COMPATIBILITÉ ENTRE LES DIFFÉRENTES VERSIONS DE TAILWIND --- */
/* Pour tenir compte des versions variables de Tailwind */
html[data-theme="dark"] .badge.inline-flex,
html[data-theme="dark"] span.badge.inline-flex,
html[data-theme="dark"] .badge.flex,
html[data-theme="dark"] span.badge.flex,
.dark .badge.inline-flex,
.dark span.badge.inline-flex,
.dark .badge.flex,
.dark span.badge.flex {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Dernier recours: cibler tous les badges de catégorie par leur contenu et position */
html[data-theme="dark"] .card span:not([class*="icon"]):not(.text-xs):not(.text-sm):not(.text-lg):not(.text-xl),
.dark .card span:not([class*="icon"]):not(.text-xs):not(.text-sm):not(.text-lg):not(.text-xl) {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  color: white !important;
}

/* --- CORRECTIFS POUR LE SÉLECTEUR DE CATÉGORIE --- */
html[data-theme="dark"] .select-trigger,
html[data-theme="dark"] [class*="select-trigger"],
.dark .select-trigger,
.dark [class*="select-trigger"] {
  background-color: #1e293b !important;
  color: #f3f4f6 !important;
  border-color: #475569 !important;
}

html[data-theme="dark"] .select-content,
html[data-theme="dark"] [class*="select-content"],
html[data-theme="dark"] .popover-content,
html[data-theme="dark"] [class*="popover-content"],
.dark .select-content,
.dark [class*="select-content"],
.dark .popover-content,
.dark [class*="popover-content"] {
  background-color: #1e293b !important;
  color: #f3f4f6 !important;
  border-color: #475569 !important;
}

/* CORRECTIFS CRITIQUES ABSOLUMENT PRIORITAIRES - À NE PAS MODIFIER */
/* Ces règles DOIVENT rester à la fin du fichier pour avoir priorité absolue */

/* ============ FIX POUR CATEGORIES SUR DESKTOP ============ */
/* Règles ultra-spécifiques pour catégories avec niveaux de spécificité maximaux */
html[data-theme="dark"] span.badge[variant="secondary"],
html[data-theme="dark"] *[class*="badge"][variant="secondary"],
html[data-theme="dark"] div.badge[variant="secondary"],
html[data-theme="dark"] div > span.badge[variant="secondary"],
html[data-theme="dark"] *[class*="card"] span.badge[variant="secondary"],
html[data-theme="dark"] *[class*="header"] span.badge[variant="secondary"],
html[data-theme="dark"] *[class*="card"] span.badge,
html[data-theme="dark"] *[class*="editor"] span.badge[variant="secondary"],
html[data-theme="dark"] *[class*="editor"] span.badge,
.dark span.badge[variant="secondary"],
.dark *[class*="badge"][variant="secondary"],
.dark div.badge[variant="secondary"],
.dark div > span.badge[variant="secondary"],
.dark *[class*="card"] span.badge[variant="secondary"],
.dark *[class*="header"] span.badge[variant="secondary"],
.dark *[class*="card"] span.badge,
.dark *[class*="editor"] span.badge[variant="secondary"],
.dark *[class*="editor"] span.badge {
    /* VISIBILITÉ CRITIQUE */
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    z-index: 999 !important;
    position: relative !important;
    
    /* APPARENCE ULTRA-CONTRASTÉE */
    background: rgba(29, 78, 216, 0.95) !important; /* Bleu très visible */
    color: white !important;
    border: 2px solid #93c5fd !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8) !important;
    
    /* STYLE DE BADGE DÉFENSIF */
    font-weight: 700 !important;
    padding: 0.25rem 0.75rem !important;
    border-radius: 9999px !important;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2) !important;
    margin: 0.125rem 0.25rem !important;
    max-width: max-content !important;
    
    /* ANIMATION D'ATTENTION */
    animation: badgePulse 2s infinite !important;
}

@keyframes badgePulse {
    0%, 100% { box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2), 0 0 0 rgba(147, 197, 253, 0); }
    50% { box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2), 0 0 10px rgba(147, 197, 253, 0.5); }
}

/* ============ FIX POUR TEXTE AVEC FOND COLORÉ ============ */
/* Sélecteurs ultra-précis pour texte avec style de fond */
html[data-theme="dark"] [style*="background-color"],
html[data-theme="dark"] [style*="background"],
html[data-theme="dark"] mark,
html[data-theme="dark"] *[style*="background-color"] *,
html[data-theme="dark"] .ProseMirror [style*="background-color"],
html[data-theme="dark"] .ProseMirror [style*="background"],
html[data-theme="dark"] .ProseMirror mark,
html[data-theme="dark"] .tiptap [style*="background-color"],
html[data-theme="dark"] .tiptap [style*="background"],
html[data-theme="dark"] .tiptap mark,
html[data-theme="dark"] [class*="editor"] [style*="background-color"],
html[data-theme="dark"] [class*="editor"] [style*="background"],
html[data-theme="dark"] [class*="editor"] mark,
.dark [style*="background-color"],
.dark [style*="background"],
.dark mark,
.dark *[style*="background-color"] *,
.dark .ProseMirror [style*="background-color"],
.dark .ProseMirror [style*="background"],
.dark .ProseMirror mark,
.dark .tiptap [style*="background-color"],
.dark .tiptap [style*="background"],
.dark .tiptap mark,
.dark [class*="editor"] [style*="background-color"],
.dark [class*="editor"] [style*="background"],
.dark [class*="editor"] mark {
    /* VISIBILITÉ DU TEXTE */
    color: #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9) !important;
    font-weight: 500 !important;
    
    /* TRAITEMENT DU FOND */
    filter: brightness(1.3) contrast(1.5) !important;
    mix-blend-mode: hard-light !important;
    
    /* RENDU ET VISIBILITÉ */
    opacity: 1 !important;
    visibility: visible !important;
    border-radius: 3px !important;
    padding: 0 3px !important;
    display: inline !important;
    
    /* RENFORCEMENT DU TEXTE */
    -webkit-text-stroke: 0.5px black !important;
    text-decoration-thickness: from-font !important;
}

/* ============ FIX POUR TEXTE AVEC COULEUR ============ */
/* Sélecteurs ultra-précis pour texte avec couleur */
html[data-theme="dark"] [style*="color:"],
html[data-theme="dark"] [style*="color :"],
html[data-theme="dark"] [style*="color;"],
html[data-theme="dark"] *[style*="color:"] *,
html[data-theme="dark"] .ProseMirror [style*="color"],
html[data-theme="dark"] .tiptap [style*="color"],
html[data-theme="dark"] [class*="editor"] [style*="color"],
.dark [style*="color:"],
.dark [style*="color :"],
.dark [style*="color;"],
.dark *[style*="color:"] *,
.dark .ProseMirror [style*="color"],
.dark .tiptap [style*="color"],
.dark [class*="editor"] [style*="color"] {
    /* VISIBILITÉ CRITIQUE */
    color: inherit !important;
    
    /* AMÉLIORATION VISUELLE */
    filter: brightness(1.8) saturate(1.5) contrast(1.4) !important;
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.9) !important;
    
    /* RENDU ET VISIBILITÉ */
    opacity: 1 !important;
    visibility: visible !important;
    font-weight: 500 !important;
    
    /* RENFORCEMENT DU TEXTE */
    -webkit-text-stroke: 0.25px black !important;
}

/* ============ FIX POUR GUILLEMETS ET ITALIQUE ============ */
html[data-theme="dark"] q,
html[data-theme="dark"] cite,
html[data-theme="dark"] blockquote,
html[data-theme="dark"] i,
html[data-theme="dark"] em,
html[data-theme="dark"] .ProseMirror q,
html[data-theme="dark"] .ProseMirror cite,
html[data-theme="dark"] .ProseMirror blockquote,
html[data-theme="dark"] .ProseMirror i,
html[data-theme="dark"] .ProseMirror em,
html[data-theme="dark"] .tiptap q,
html[data-theme="dark"] .tiptap cite,
html[data-theme="dark"] .tiptap blockquote,
html[data-theme="dark"] .tiptap i,
html[data-theme="dark"] .tiptap em,
.dark q,
.dark cite,
.dark blockquote,
.dark i,
.dark em,
.dark .ProseMirror q,
.dark .ProseMirror cite,
.dark .ProseMirror blockquote,
.dark .ProseMirror i,
.dark .ProseMirror em,
.dark .tiptap q,
.dark .tiptap cite,
.dark .tiptap blockquote,
.dark .tiptap i,
.dark .tiptap em {
    /* VISIBILITÉ CRITIQUE */
    color: #f8fafc !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
    
    /* AMÉLIORATION VISUELLE */
    font-weight: 500 !important;
    opacity: 1 !important;
    visibility: visible !important;
    
    /* RENFORCEMENT DU TEXTE */
    -webkit-text-stroke: 0.25px rgba(0, 0, 0, 0.5) !important;
}

/* SPÉCIFIQUE AUX CITATIONS LONGUES */
html[data-theme="dark"] blockquote,
html[data-theme="dark"] .ProseMirror blockquote,
html[data-theme="dark"] .tiptap blockquote,
.dark blockquote,
.dark .ProseMirror blockquote,
.dark .tiptap blockquote {
    background-color: rgba(59, 130, 246, 0.2) !important;
    border-left: 4px solid #3b82f6 !important;
    padding: 0.5rem 1rem !important;
    margin: 1rem 0 !important;
    display: block !important;
}

/* Styles pour force-reset chaque cycle de rendu (priorité absolue) */
@media all {
    html[data-theme="dark"] span.badge[variant="secondary"],
    .dark span.badge[variant="secondary"] {
        background: rgba(29, 78, 216, 0.95) !important;
        color: white !important;
        display: inline-flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        border: 2px solid #93c5fd !important;
    }
    
    html[data-theme="dark"] [style*="background"], 
    .dark [style*="background"] {
        color: white !important;
        filter: brightness(1.3) contrast(1.5) !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9) !important;
    }
    
    html[data-theme="dark"] [style*="color"],
    .dark [style*="color"] {
        filter: brightness(1.8) saturate(1.5) contrast(1.4) !important;
        text-shadow: 0 0 2px rgba(0, 0, 0, 0.9) !important;
    }
}

/* Forcer un animation keyframe pour redéclencher les styles */
html[data-theme="dark"] body::after,
.dark body::after {
    content: "" !important;
    position: fixed !important;
    z-index: -9999 !important;
    top: 0 !important;
    left: 0 !important;
    width: 0 !important;
    height: 0 !important;
    animation: forceRenderCycle 0.1s forwards !important;
}

@keyframes forceRenderCycle {
    0%, 100% { opacity: 0.9999; }
    50% { opacity: 1; }
}
